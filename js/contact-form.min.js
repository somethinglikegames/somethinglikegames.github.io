let agreement=document.getElementById("agreement"),fromName=document.getElementById("fromName"),fromMail=document.getElementById("fromMail"),subject=document.getElementById("subject"),the_subject=document.getElementById("the_subject"),text=document.getElementById("message"),submit=document.getElementById("submit");agreement.addEventListener("change",e=>{submit.disabled=!agreement.checked}),fromName.addEventListener("focusout",e=>{fromName.value.length==0?fromName.classList.add("is-danger"):fromName.classList.remove("is-danger")}),fromMail.addEventListener("focusout",e=>{fromMail.value.length==0||!validateEmail(fromMail.value)?fromMail.classList.add("is-danger"):fromMail.classList.remove("is-danger")}),subject.addEventListener("focusout",e=>{subject.value.length==0?subject.classList.add("is-danger"):subject.classList.remove("is-danger")}),text.addEventListener("focusout",e=>{text.value.length==0?text.classList.add("is-danger"):text.classList.remove("is-danger")});let loginForm=document.getElementById("contactForm");loginForm.addEventListener("submit",e=>{e.preventDefault(),submit.disabled=!0;let t={fromName:fromName.value,fromMail:fromMail.value,subject:subject.value,text:text.value,extras:{the_subject:the_subject.value}};validate(t)&&sendContactForm(t).then(e=>{e.ok?(agreement.checked=!1,fromName.value="",fromMail.value="",subject.value="",the_subject.value="",text.value=""):(console.error("Something went wrongâ€¦"),loginForm.insertAdjacentHTML("beforebegin",'<div class="notification is-danger is-light">Unfortunately, an error occurred during transmission. Please try again later.</div>'))})});async function sendContactForm(e){return fetch("https://somethinglikegames.de/contact",{method:"POST",mode:"cors",cache:"no-cache",credentials:"omit",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}function validate(e){let t=!0;return e.fromName.length==0&&(t=!1),(e.fromMail.length==0||!validateEmail(e.fromMail))&&(t=!1),e.subject.length==0&&(t=!1),e.text.length==0&&(t=!1),t}function validateEmail(e){var t=/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/;return e.match(t)}